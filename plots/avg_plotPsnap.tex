\documentclass{standalone}

\usepackage{pgfplots}
\usepgfplotslibrary{statistics}

\begin{document}
  \begin{tikzpicture}
    \begin{axis}[title={Average Latency Partial Snapshot},              % Title of the graph
                 xtick={1,2,4,8,16,32,64,128,256},  % The ticks on the x-axis
                 xlabel={number of threads},        % Label of the x-axis
                 ylabel={Latency},             % Label of the y-axis
                 legend style={
                   at={(1.05,0.95)},                % Position of the legend anchor
                   anchor=north west,                % The legend anchor
                   align=left
                 }]
      
      % Each graph is added via \addplot and a .data file, and
      % add a legend entry for the previous graph.
      \addplot table {\DATAPATH/avg/smallbench_10_0.data};
      \addlegendentry{Average Latency for \\ Concurrent Scanning without Updating \\}

      \addplot table {\DATAPATH/avg/smallbench_10_1.data};
      \addlegendentry{Average Latency for \\ Concurrent Scanning and Updating \\}

      \addplot table {\DATAPATH/avg/smallbench_10_2.data};
      \addlegendentry{Average Latency for \\ Concurrent Updating without Scanning \\}

      % \addplot table {\DATAPATH/avg/smallbench_10_3.data};
      % \addlegendentry{Average Latency for \\ Concurrent Updating of \\ each Thread on each Register \\}

    \end{axis}
  \end{tikzpicture}



  \begin{tikzpicture}
    \begin{axis}[
      title={Throughput Partial Snapshot},
      xtick={1,2,4,8,16,32,64,128,256},
      xlabel={number of threads},
      ylabel={Throughput},
      legend style={
        at={(1.05,0.95)},
        anchor=north west,
        align=left
      }]
      \addplot table {\DATAPATH/avg/smallbench_10_3.data};
      \addlegendentry{Throughput for Concurrent \\ Scanning without Updating}

      % \addplot table {\DATAPATH/avg/smallbench_10_6.data};
      % \addlegendentry{Throughput for Concurrent \\ Updating of each \\ Thread on each Register}

      \addplot table {\DATAPATH/avg/smallbench_10_4.data};
      \addlegendentry{Throughput for Concurrent \\ Scanning and Updating}
      
      \addplot table {\DATAPATH/avg/smallbench_10_5.data};
      \addlegendentry{Throughput for Concurrent \\ Updating operations without Scanning}

    \end{axis}
  \end{tikzpicture}
\end{document}
